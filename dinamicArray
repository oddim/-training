using System;

namespace dinamicArray
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const string SumCommand = "sum";
            const string ExitCommand = "exit";

            int[] numbers1 = new int[0];
            int[] numbers2 = new int[0];
            int[] allNumbers = new int[0];
            
            bool isRun = true;
            bool isSwitch = true;

            string userInput = null;

            int currentIndex = 1;
            int sumAllNumbers = 0;

            while (isRun) 
            {
                Console.Write($"Заполните массив. Для получения суммы элементов массива введите {SumCommand}. Если хотите выйти из программы, то введите {ExitCommand}. \n\nМассив: ");
               
                for (int i = 0; i < allNumbers.Length; i++)
                {
                    Console.Write(allNumbers[i] + " ");
                }
                userInput = Console.ReadLine();
 
                switch (userInput)
                { 
                    case SumCommand:
                        Console.Write("\n\nМассив: ");

                        for (int i = 0; i < allNumbers.Length; i++)
                        {
                            sumAllNumbers += allNumbers[i];
                         
                            Console.Write(allNumbers[i] + " ");
                        }
                        Console.WriteLine();
                        Console.WriteLine(sumAllNumbers + " - сумма элементов массива \n\n");

                        sumAllNumbers = 0;
                        continue;
                    case ExitCommand:
                        isRun = false;
                        break;
                    default:
                        if (isSwitch)
                        {
                            isSwitch = false;
                            numbers1 = new int[currentIndex];

                            for (int i = 0; i < currentIndex - 1; i++)
                            {
                                numbers1[i] = numbers2[i];
                            }
                            numbers1[currentIndex - 1] = Convert.ToInt32(userInput);
                            allNumbers = numbers1;
                        }
                        else 
                        {
                            isSwitch = true;

                            numbers2 = new int[currentIndex];

                            for (int i = 0; i < currentIndex - 1; i++)
                            {
                                numbers2[i] = numbers1[i];
                            }

                            numbers2[currentIndex - 1] = Convert.ToInt32(userInput);

                            allNumbers = numbers2;
                        }
                        break;
                }     
                Console.Clear();

                currentIndex++;
            }
            Console.WriteLine("Программа завершена");
        }
    }
}
